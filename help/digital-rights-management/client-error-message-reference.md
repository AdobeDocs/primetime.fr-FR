---
description: Les erreurs du client DRM sont un sous-ensemble des erreurs côté client TVSDK.
title: Référence de message d’erreur du client DRM
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '5173'
ht-degree: 1%

---

# Référence de message d’erreur du client DRM {#client-error-message-reference}

Les erreurs du client DRM sont un sous-ensemble des erreurs côté client du TVSDK, avec des codes d’erreurs liés à DRM compris entre 3300 et 3399.

## Erreurs client DRM {#drm-client-errors}

| Code d’erreur | Mnémonique | Remède |
|---|---|---|
| 3300 | Bon non valide | Ce que le logiciel du distributeur doit faire : <ul><li> Si vous utilisez Google Chrome et que vous êtes en mode Incognito et que votre version de Flash Player est inférieure à 11.6, cette erreur peut se produire. Nous recommandons au lecteur de vérifier le numéro de version du navigateur et de conseiller à l’utilisateur de quitter le mode Incognito.</li><li> Demandez à nouveau la licence. Si la requête aboutit, il n’est pas nécessaire de la consigner ou de la réaffecter. Si la requête échoue, enregistrez le contenu qui a provoqué l’erreur. `subErrorId` contient une erreur de ligne, le cas échéant.</li></ul> Ce que le distributeur doit faire : <ul><li> Si des tentatives échouent sur des configurations autres que Chrome avec Flash inférieur à la version 11.6, un échec peut se produire dans le package.</li><li>Vérifiez si le problème est spécifique à certains contenus et repackages.</li></ul> |
| 3301 | Échec de l’authentification | Le serveur n’a pas pu authentifier ou autoriser le client.<ul><li>Le logiciel du distributeur doit prendre toute mesure nécessaire pour rétablir les informations d’identification de l’utilisateur ou guider l’utilisateur pour obtenir l’accès au contenu.</li><li>Le distributeur doit confirmer que son mécanisme d’autorisation et d’authentification fonctionne correctement. Si les distributeurs ne prévoient pas d’utiliser les fonctionnalités d’authentification ou d’autorisation, ils doivent vérifier si la stratégie du contenu offensant nécessite une authentification, et voir Diagnostic des incohérences entre la stratégie et les licences.</li></ul> Pour plus d’informations sur ce code d’erreur, voir [Causes et résolution de l’erreur DRM 3301](https://forums.adobe.com/thread/1277149). |
| 3302 | RequireSSL | Pour Primetime DRM 4.0 et versions ultérieures, cette erreur est générée sur iOS lorsque l’URL de clé distante n’utilise pas HTTPS comme schéma. HTTPS est requis. <ul><li>Si le distributeur utilise une version antérieure à Primetime DRM version 4, ou au moins la version 4, mais que la plateforme n’est pas iOS, le logiciel du distributeur doit consigner l’erreur. Cette erreur est générée uniquement sur iOS.</li><li>Si le logiciel du distributeur est au moins Primetime DRM version 4 et que la plate-forme est iOS, les distributeurs doivent modifier l’URL du serveur de clé distante qu’ils utilisent en HTTPS. S’ils utilisaient uniquement le protocole HTTP, les distributeurs peuvent avoir à configurer un serveur HTTPS. Dans le cas contraire, les distributeurs doivent envoyer les informations consignées à l’Adobe et réaffecter le problème.</li></ul> |
| 3303 | ContentExpired | Le contenu que vous affichez a expiré selon les règles définies par le fournisseur de contenu.  `subErrorId` contient une erreur client ou une erreur de ligne. <ul><li>Le logiciel du distributeur doit tenter de réacquérir une licence du serveur une fois pour déterminer si une nouvelle licence non expirée est disponible. Si aucune licence n’est disponible ou si la licence a expiré, autorisez l’utilisateur à acquérir une nouvelle licence ou informez l’utilisateur que le contenu ne peut pas être visionné.</li></ul> Si le contenu a été compilé avec une stratégie dont la date d’expiration/de fin est dépassée et que les journaux du serveur de licences signalent une exception PolicyEvaluationException, indiquez que la date de fin de la stratégie est dépassée (code d’erreur du serveur 303). Vérifiez les fichiers journaux du serveur.<br>Si possible, les clients doivent vérifier la politique qu’ils ont utilisée lors du conditionnement pour vérifier s’il a expiré. L’outil de ligne de commande Java est le suivant : <ul><li>java -jar libs/AdobePolicyManager.jar</li><li> detail demo.pol</li><li>Le distributeur doit confirmer si les dates d’expiration de licence sont configurées comme prévu.</li></ul> Pour plus d’informations sur ce code d’erreur, voir [3303 (Contenu expiré) avec AMS/FMS à l’aide d’un flux en direct ?](https://forums.adobe.com/thread/1300813) |
| 3304 | AuthorizationFailed | L’utilisateur actuel n’est pas autorisé à afficher le contenu. Connectez-vous en tant qu’utilisateur différent.<br>Pour plus d’informations sur ce code d’erreur, voir Code d’erreur 3301. |
| 3305 | ServerConnectionFailed | La connexion aux serveurs de licence ou de domaine a expiré, soit en raison d’un délai réseau, soit en raison d’un client hors ligne. En règle générale, subErrorId contient le code de retour HTTP.<ul><li>Le logiciel du distributeur doit tenter une connexion réseau à un bon serveur connu. Si la tentative échoue, invitez l’utilisateur à se reconnecter au réseau. Si la tentative est réussie, enregistrez-la.</li><li>Le distributeur doit vérifier que tous les serveurs de licences et de domaines utilisés sont en ligne et visibles à partir du réseau du client.</li></ul>Pour plus d’informations sur ce code d’erreur, voir [DRM 3305 ServerConnectionFailed causes et résolution](https://forums.adobe.com/thread/1284947.) |
| 3306 | ClientUpdateRequired | Le client actuel ne peut pas terminer l’action demandée, mais un client mis à jour peut être en mesure de terminer la requête.<br>Cela peut avoir plusieurs causes :<ul><li>Un domaine partagé non disponible sur ce client a été utilisé. C’est probablement le cas lorsque la lecture fonctionne sur Chrome, mais pas sur tout autre navigateur et vice versa.<br>**Remarque :** Chrome utilise une clé PHDS/PHLS différente de celle des autres navigateurs.</li><li>L’application tente d’ajouter plusieurs DRMSessions lors de l’exécution sur une version d’iOS antérieure à 5.0.</li><li>Les métadonnées ont une version 3 ou supérieure lorsque seule la version 2 est prise en charge.</li><li>Le logiciel du distributeur doit alerter l&#39;utilisateur et interrompre l&#39;opération. Si le logiciel permet de déterminer si une mise à niveau est disponible, demandez à l’utilisateur d’effectuer cette mise à niveau de la manière appropriée à la plateforme.</li><li>Si le problème se produit en raison d’un domaine partagé, le distributeur devra vérifier avec Adobe la mise à jour du runtime ou de la bibliothèque. Dans le cas de l’exécution par Flash, le distributeur peut forcer directement la mise à niveau de son application. Dans le cas d’une bibliothèque, le distributeur devra obtenir une bibliothèque mise à jour, reconstruire son application et la déployer sur ses utilisateurs.</li></ul>Si le problème se produit en raison de plusieurs DRMSessions, le distributeur devra mettre à jour son application pour vérifier le numéro de version d’iOS avant d’ajouter plusieurs DRMSessions. Ils peuvent également restreindre la distribution de leur application à iOS version 5 et ultérieure.<br>Si le problème se produit car la version des métadonnées est supérieure à la version 2, le problème est probablement lié aux métadonnées corrompues. Ils peuvent essayer de recréer les métadonnées et d’examiner les résultats. S’ils continuent à voir le problème, enregistrez le problème et réaffectez-le à l’Adobe.<br>Pour plus d’informations sur ce code d’erreur, voir [Comment remédier à un code d’erreur DRMErrorEvent 3306](https://forums.adobe.com/thread/1266675). |
| 3307 | InternalFailure | Cela représente généralement un bogue dans le code DRM Primetime et est inattendu, sauf s’il existe un bogue connu, comme ci-dessous. subErrorId contient une erreur ou une erreur de ligne spécifique au client.<ul><li>Si le navigateur est Chrome sous Windows et que la version de Flash est 11.6 (SWF version 19 ou supérieure), le logiciel du distributeur doit supposer que l’utilisateur a appuyé sur Refuser sur l’infobar et traiter la même chose qu’un 3368.</li><li>Si la version 3307 se produit lorsque le navigateur n’est pas Chrome ou que la version de Flash n’est pas 11.6, le distributeur doit passer à Adobe.</li></ul>**Remarque :** 3307:1107296344 (FailedToGetBrokerHandle) peut se produire avec les versions 24 à 28 du navigateur Chrome. |
| 3308 | WrongLicenseKey | Cette erreur est générée lorsque la licence utilisée contient la mauvaise clé pour déchiffrer le contenu. Le subErrorId contient une erreur ou une erreur de ligne spécifique au client.<br>Il semble qu’il n’y ait que deux façons de générer cette erreur :<ul><li>Le client a modifié l’outil d’Adobe standard pour générer des licences (par exemple, la structure Java du serveur de licences). Dans ce cas, la licence contient une mauvaise clé qui peut ne correspondre à aucun contenu.</li><li>Le client a émis plusieurs licences avec le même ID de licence. Dans ce cas, il existe plusieurs licences disponibles sur le client qui correspondent aux métadonnées de contenu et le code DRM Primetime a choisi la mauvaise licence à utiliser.</li><li>Le logiciel du distributeur doit essayer de réacquérir la licence du serveur.</li><li>Si aucune licence n’est disponible ou si la licence a expiré, fournissez un workflow pour que l’utilisateur puisse acquérir une nouvelle licence, ou informez l’utilisateur que le contenu ne peut pas être visionné et enregistrez le problème.</li><li> S’il s’agissait d’un contenu lié à un domaine (pour AIR), fournissez un moyen à l’utilisateur de le joindre.</li><li>Le distributeur doit :</li><li> Vérifiez qu’ils n’ont pas personnalisé les portions d’émission de licence du serveur de licences DRM Primetime.</li><li>Vérifiez qu’ils émettent des identifiants de licence uniques pour toutes les licences.</li><li>Réaffectez le problème avec Adobe.</li></ul> |
| 3309 | CorruptedAdditionalHeader | Cela se produit si l’en-tête dépasse 6 536 octets.<ul><li>Le logiciel du distributeur doit Enregistrer quel élément de contenu a causé l&#39;erreur.</li><li>Le distributeur doit confirmer que l&#39;erreur est reproductible avec des éléments de contenu spécifiques. Recompressez le contenu rompu.</li></ul> |
| 3310 | AppIDMismatch | L’application n’est pas autorisée dans la liste. Android, iOS ou Flash SWF.<br>subErrorId : 1000942 ; erreur lors de la lecture du flux protégé. Erreur FAXS.<br>Il est également possible que le client signale une chaîne vide pour pubID (identifiant de l’éditeur de l’application).<br>**Android :** L’application Android ne correspond pas à celle utilisée. Gardez à l’esprit que le répertoire du fichier de stockage des clés de débogage dans Android est souvent différent du répertoire du fichier de stockage des clés de version.<br>**IOS :** Voir [Liste autorisée de votre application iOS](/help/programming/tvsdk-3x-ios-prog/ios-3x-drm-content-security/ios-3x-allowlist-your-ios-application.md) documentation dans le guide TVSDK iOS. |
| 3312 | LicenseIntegrity | Téléchargez à nouveau la licence à partir du serveur. |
| 3313 | WriteMicrosafeFailed | Ce problème se produit lorsque le système ne peut pas écrire dans le système de fichiers. subErrorId contient une erreur ou une erreur de ligne spécifique au client.<br>Sous Microsoft Windows, l’erreur 3313 peut être générée par le lecteur Flash de module externe Active X ou NPAPI lorsque le contenu chiffré comporte un ID de licence ou un ID de stratégie trop long. Cela est dû à la longueur maximale du chemin sous Windows. (Le module externe Pepper n’a pas ce problème.)<ul><li>Le logiciel du distributeur doit inviter l’utilisateur à confirmer que son répertoire utilisateur n’est pas verrouillé, ni sur un volume plein ou verrouillé.</li><li>Si le distributeur utilise AIR, plutôt que Flash, le problème peut être dû à une limitation de la longueur du chemin. Les distributeurs doivent raccourcir le nom de leur application AIR à quelque chose de raisonnable.</li></ul> |
| 3314 | CorruptedDRMMetadata | Cette erreur indique souvent que le contenu a été conditionné avec des cerveaux PKI de test et que le lecteur est créé avec l’ICP de production, ou vice versa.<br>Le subErrorId contient une erreur ou une erreur de ligne spécifique au client.<ul><li>Le logiciel du distributeur doit consigner quel élément de contenu a provoqué l’erreur.</li><li>Le distributeur doit confirmer que l&#39;erreur est reproductible avec des éléments de contenu spécifiques.</li></ul>Vous devrez peut-être recompresser le contenu rompu. |
| 3315 | PermissionDenied | Il existe des bogues connus dans lesquels ce code d’erreur peut être généré lorsqu’un 3305 est prévu. Pour plus d’informations, voir Code d’erreur 3305.<br>Un SWF distant chargé par AIR n’est pas autorisé à accéder à la fonctionnalité Primetime DRM. Ce code d’erreur peut également être généré si une erreur de sécurité se produit lors de l’accès au réseau. Par exemple, le serveur de destination ne permet pas au client de se connecter en utilisant crossdomain.xml, ou le crossdomain.xmlis inaccessible.<br>Pour plus d’informations, voir [Erreur DRM 3315, cause et résolution possibles de la racine](https://forums.adobe.com/thread/1266592). |
| 3317 | AAXS_LoadAdobeCPFailing | **Important :** Il s’agit d’une erreur rare qui ne se produit généralement pas dans un environnement de production.<br>Si l’erreur se produit, vous pouvez effectuer l’une des opérations suivantes :<ul><li>Si vous utilisez AIR, réinstallez AIR.</li><li>Si vous utilisez Flash Player, téléchargez à nouveau les modules AdobeCP.</li></ul> |
| 3318 | IncompatibleAdobeCPVersion | **Important :** Il s’agit d’une erreur rare qui ne se produit généralement pas dans un environnement de production.<br>Si l’erreur se produit, vous pouvez effectuer l’une des opérations suivantes :<ul><li>Si vous utilisez AIR, réinstallez AIR.</li><li>Si vous utilisez Flash Player, téléchargez à nouveau les modules AdobeCP.</li></ul> |
| 3319 | MissingAdobeCPGetAPI | **Important :** Il s’agit d’une erreur rare qui ne se produit généralement pas dans un environnement de production.<br>Si l’erreur se produit, vous pouvez effectuer l’une des opérations suivantes :<ul><li>Si vous utilisez AIR, réinstallez AIR.</li><li>Si vous utilisez Flash Player, téléchargez à nouveau les modules AdobeCP.</li></ul> |
| 3320 | HostFailed | **Important :** Il s’agit d’une erreur rare qui ne se produit généralement pas dans un environnement de production.<br>Si l’erreur se produit, vous pouvez effectuer l’une des opérations suivantes :<ul><li>Si vous utilisez AIR, réinstallez AIR.</li><li>Téléchargez à nouveau AdobeCP et Flash Player, car l’une ou l’autre des solutions peut ne pas être synchronisée.</li></ul>L’application doit uniquement mettre à jour Flash Player, ce qui entraîne le téléchargement de nouveau d’AdobeCP. |
| 3321 | I15nFailed | Le processus d’approvisionnement du client avec des clés a échoué. Le subErrorId contient une erreur de ligne, spécifique au client ou au serveur.<ul><li>Le logiciel du distributeur devrait essayer de relancer l&#39;opération au moins une fois.</li></ul>Si vous utilisez Google Chrome sous Windows, fournissez une explication sur la manière d’autoriser l’accès aux modules externes qui ne se trouve pas dans un environnement de test. Pour plus d’informations, voir Accès à l’environnement de désactivation de Google Chrome refusé.<ul><li>Le distributeur doit effectuer l’une des tâches suivantes :</li><li>Si l’erreur est cohérente sur toutes les plateformes, vous devez réduire le problème avec Adobe.</li><li>Si l’erreur est limitée à Chrome sous Windows, guider l’utilisateur pour autoriser l’accès au module externe sans sandbox.</li></ul>Les distributeurs doivent mettre à jour leur SWF vers la version 19 ou ultérieure. Pour l’erreur 3321 spécifique à Chrome, une erreur 3368 est générée. L&#39;erreur 3368 peut être traitée plus spécifiquement par le logiciel du distributeur. Cette modification a été introduite dans la version 26.0.1410.43 du canal compatible avec Chrome.<br>**Remarque :** L’erreur 3321:1090519056 peut se produire avec les versions 11.1 à 11.6 du lecteur Flash. Nous vous recommandons de mettre à niveau vers la dernière version de Flash Player.<br>Pour plus d’informations, voir [Erreur DRM 3321 Causes et résolution](https://forums.adobe.com/thread/1277138). |
| 3322 | DeviceBindingFailed | L’appareil ne semble pas correspondre à la configuration qui était présente lors de l’initialisation. subErrorId contient une erreur de ligne ou spécifique au client.<br>Le logiciel du distributeur doit effectuer l’une des tâches suivantes :<ul><li>Si l’appareil n’utilise pas Flash Player et utilise AIR, iOS, etc., `callDRMManager.resetDRMVouchers()`.</li></ul>Si le problème se produit sur iOS dans une phase de développement, demandez au développeur de confirmer si le problème est observé lors du basculement entre des versions téléchargées à partir de systèmes de distribution préversion tiers (par exemple, HockeyApp) et une version locale à partir de Xcode. Les attributs d’une installation précédente ne sont pas entièrement remplacés lors du changement entre un build distribué à partir de HockeyApp et un build à partir de Xcode. Cette situation peut déclencher l’erreur 3322.<br>Pour résoudre ce problème, le développeur doit supprimer l’ancienne version de l’appareil avant d’installer la nouvelle version.<ul><li>Si l’appareil utilise Flash Player et qu’il est inutilisable à partir d’un code d’erreur 3322 ou 3346, consultez les instructions d’Adobe sur la façon de réinitialiser par programmation votre magasin de licences DRM sur [Erreur DRM 3322/3346/3368 dans Chrome (problèmes liés à la barre d’informations)](https://forums.adobe.com/message/5535907#5535907).</li></ul>Cette erreur ne devrait pas se produire fréquemment. Dans les environnements d’entreprise qui utilisent des profils en itinérance, si un utilisateur visualisait du contenu protégé par DRM, l’erreur 3322 de risque se produisait lorsque l’utilisateur se connectait à partir de différentes machines. Si possible, le distributeur doit essayer d’obtenir cette information de l’utilisateur.<br>Si l’erreur se produit fréquemment, réaffectez-vous à l’Adobe. Vous devez indiquer à Adobe si la réinitialisation du magasin de licences a résolu (ou non) le problème et indiquer à l’Adobe sur quels navigateurs l’erreur s’est produite.<br>Pour plus d’informations, voir les articles suivants :<ul><li>https://forums.adobe.com/message/5520902</li><li>https://forums.adobe.com/message/5535911</li><li>https://forums.adobe.com/message/5748618</li><li>https://forums.adobe.com/message/6061165</li></ul> |
| 3323 | CorruptGlobalStateStore | Les fichiers utilisés par le client DRM ont été modifiés de manière inattendue. Le subErrorId contient une erreur de ligne ou spécifique au client.<ul><li>Le logiciel du distributeur doit guider l’utilisateur à se réinitialiser de la même manière que pour le code d’erreur 3322.</li><li>Si le GlobalStore échoue à un taux supérieur au taux d’échec attendu des disques durs de votre base d’utilisateurs, redirigez le problème vers Adobe.</li></ul> |
| 3324 | MachineTokenInvalid | Le serveur de licences peut ne pas être en mesure de se connecter au serveur de liste de révocation des certificats (CRL) pour actualiser ses fichiers CRL, ou l’ordinateur client demande une licence/authentification qui a été révoquée par le serveur de licences.<br>Dans les journaux du serveur, un code d’erreur 111 isMachineTokenInvalid. Cependant, au niveau du client, le code d’erreur 111 est traduit en code d’erreur 3324.<br>L’administrateur du serveur de licences DRM doit vérifier si le serveur de licences du client a jamais pu récupérer les fichiers CRL d’Adobe. Si le client utilise Tomcat, le client peut vérifier le répertoire tomcat/temp/ pour voir s’il existe 4 fichiers .CRL.<ul><li>Si les fichiers se trouvent dans ce répertoire, double-cliquez sur les fichiers dans l’Explorateur Windows et dans l’application de visionneuse CRL, déterminez si l’un des fichiers a expiré.</li><li>S’il n’existe aucun fichier dans tomcat/temp/, on peut supposer que ce serveur de licences n’a jamais pu atteindre le serveur CRL d’Adobe en raison d’un pare-feu ou d’un problème de routage.</li></ul>Pour plus d’informations, voir Règles de pare-feu.<br>Si les fichiers CRL ne sont pas disponibles ou ont expiré, vous devez confirmer si le serveur de licences peut être atteint. Ouvrez un renifleur réseau (Charles ou Wireshark, par exemple) sur le serveur de licences du client, redémarrez le serveur et demandez à un client de demander une licence au serveur.<br>Vous pouvez observer le trafic réseau pour déterminer si les appels aux points d’entrée d’URL suivants ont réussi :<br>**Remarque :** Vous pouvez également saisir les URL de CRL suivantes dans un navigateur pour savoir si vous pouvez télécharger manuellement chaque fichier.<ul><li>[https://crl2.adobe.com/Adobe/FlashAccessIndividualizationCA.crl](https://crl2.adobe.com/Adobe/FlashAccessIndividualizationCA.crl)</li><li>[https://crl2.adobe.com/Adobe/FlashAccessIntermediateCA.crl](http://crl2.adobe.com/Adobe/FlashAccessIntermediateCA.crl)</li><li>[https://crl2.adobe.com/Adobe/FlashAccessRootCA.crl](http://crl2.adobe.com/Adobe/FlashAccessRootCA.crl)</li><li>[https://crl3.adobe.com/AdobeSystemsIncorporatedFlashAccessRuntime/LatestCRL.crl](http://crl3.adobe.com/AdobeSystemsIncorporatedFlashAccessRuntime/LatestCRL.crl)</li></ul>Si les règles de pare-feu sont ouvertes et qu’il n’y a actuellement aucune erreur 3324, un problème de réseau temporaire s’est produit. Vérifiez les journaux du serveur du client, qui se trouvent probablement dans le répertoire /tomcat/logs/, pour déterminer si une erreur s’est produite lorsque le serveur de licences a tenté de récupérer les listes de révocation des certificats.<br>**Remarque :** Une erreur peut se produire lorsqu’un grand nombre de clients (ou une rafale) signale une erreur 3324 à un problème réseau temporaire lors du renouvellement d’un fichier CRL. Lorsque le problème de réseau a été résolu, les 3324 problèmes ont également été résolus.<br>Si les 4 fichiers CRL existent dans le répertoire omcat/temp/ et que les clients génèrent toujours des erreurs 3324, des problèmes d’accès aux fichiers peuvent se produire dans les fichiers CRL.<br>Pour résoudre ce problème, vous pouvez consulter les journaux et purger les fichiers CRL existants.<br>S’il n’y a aucun problème de serveur, invitez l’utilisateur à le réinitialiser comme décrit dans le code d’erreur 3322. |
| 3325 | CorruptServerStateStore | Les fichiers utilisés par le client DRM ont été modifiés de manière inattendue. Le subErrorId contient une erreur de ligne ou spécifique au client.<ul><li>Le logiciel du distributeur doit relancer l’opération, car AdobeCP a supprimé la boutique de serveurs incriminée en interne et une nouvelle tentative doit réussir. Si la reprise échoue, enregistrez le problème.</li><li>Si les reprises échouent à un taux supérieur au taux d’échec attendu des disques durs de votre base d’utilisateurs, réaugmentez le problème pour l’Adobe.</li></ul> |
| 3326 | StoreTamperingDetected | Le magasin de licences a été altéré ou corrompu et ne peut plus être utilisé.<br>Le logiciel du distributeur doit guider l’utilisateur à se réinitialiser de la même manière que décrit dans le code d’erreur 3322. |
| 3327 | ClockTamperingDetected | Corrigez l’horloge ou rachetez une licence Auteur/Lic/Domaine. |
| 3328 | ServerErrortryAgain | Il s’agit d’une erreur côté serveur dans laquelle le serveur n’a pas pu terminer la demande du client. Cette erreur peut se produire lorsque, par exemple, le serveur est occupé, HTTP/500, que le serveur ne dispose pas de la clé nécessaire pour déchiffrer la requête, etc.<br>Sur le client, il n’existe aucun moyen de déterminer ce qui s’est mal passé. Le client doit consulter le journal du serveur DRM Primetime (généralement appelé AdobeFlashAccess.log) pour déterminer ce qui s’est mal passé. Il existe toujours une trace de pile très descriptive dans le journal pour indiquer le problème. Le subErrorId contient une erreur de ligne ou spécifique au serveur.<br>Le distributeur doit consulter les journaux du serveur pour identifier le serveur qui envoie cette erreur. Pour les erreurs 3328 comportant un code de sous-erreur 101, le serveur ne peut pas déchiffrer la requête. Le client doit vérifier que les certificats du serveur de licences/de transport installés sur le serveur de licences correspondent aux certificats utilisés lors du conditionnement.<br>En outre, si les clients utilisent l’implémentation de référence, ils doivent s’assurer qu’il n’y a pas de fautes de frappe dans le fichier flashaccrefimpl.properties où les certificats primaires et supplémentaires sont spécifiés.<br> |
| 3329 | ApplicationSpecificError | Le code de sous-erreur spécifique à l’application n’est pas connu de Primetime DRM. Le subErrorId contient une erreur spécifique au serveur provenant du serveur de licences personnalisées des éditeurs. Le serveur a renvoyé une erreur dans l’espace de noms spécifique à l’application. |
| 3330 | MustAuthentication | Cette erreur se produit lorsque le contenu est configuré pour demander aux clients de s’authentifier avant d’obtenir les licences.<ul><li>Le logiciel du distributeur doit authentifier l’utilisateur, puis acquérir à nouveau la licence. Si votre service n’a pas l’intention d’utiliser l’authentification, enregistrez l’identification du contenu à l’origine de cette erreur.</li><li>Cette erreur ne doit pas nécessiter de réaffectation, sauf si le contenu n’est pas censé être configuré pour exiger une authentification. Dans ce cas, recompressez le contenu incriminé avec une stratégie appropriée. Si le contenu est correctement compressé, voir Diagnostic des incohérences entre les stratégies et les licences.</li></ul> |
| 3331 | ContentNotyetValid | La licence acquise n&#39;est pas encore valide. Pour résoudre ce problème, vérifiez si l’horloge client n’est pas correctement définie. Pour définir l’horloge du client, recompressez le contenu ou modifiez la configuration du serveur de licences. |
| 3332 | CachedLicenseExpired | Acquérez à nouveau la licence auprès du serveur. |
| 3333 | PlaybackWindowExpired | Vous devez informer les utilisateurs qu’ils ne peuvent pas lire ce contenu avant l’expiration de la stratégie. |
| 3334 | InvalidDRMPlatform | Cette plateforme n’est pas autorisée à lire le contenu, car, par exemple, le fournisseur de contenu a configuré Primetime DRM pour refuser le contenu à Primetime DRM sur une plateforme ou une licence partagée liée au domaine est liée à un jeton de domaine partagé destiné à une partition différente.<br>Le MDP peut générer cette erreur si le contenu n’a pas été compilé à l’aide d’une certification appropriée de packager de fonctionnalité MDP. Pour plus d’informations, reportez-vous à la section Glissement des fonctionnalités du MDP.<br>Si le contenu est conditionné avec un certificat PHDS/PHLS incorrect, il se peut que le contenu fonctionne dans Chrome mais pas dans d’autres navigateurs (ou vice versa).<br>**Remarque :** Cela est dû au fait que Chrome utilise différents certificats PHDS/PHLS.<br>Pour confirmer quel certificat est utilisé, videz les détails des métadonnées de contenu et recherchez les certificats du destinataire. |
| 3335 | InvalidDRMVersion | Pour résoudre ce problème, effectuez l’une des tâches suivantes :<ul><li>Mettre à niveau AIR</li><li>Pour Flash Player, mettez à niveau le module AdobeCP et relancez la lecture.</li></ul> |
| 3336 | InvalidRuntimePlatform | Cette plateforme n’est pas autorisée à lire le contenu, car, par exemple, le fournisseur de contenu a configuré Primetime DRM pour refuser du contenu à FP/AIR sur une plateforme. |
| 3337 | InvalidRuntimeVersion | Cela se produit si le contenu ou le serveur est configuré pour refuser la lecture à une version spécifique du Flash ou des exécutions AIR.<ul><li>Si l’utilisateur se trouve sur un système d’exploitation sur lequel le Flash peut être mis à niveau, le logiciel du distributeur doit inviter l’utilisateur à mettre à niveau le Flash et réessayer. Sinon, il conseille à l’utilisateur d’utiliser une autre machine.</li><li>Si l’erreur 337 est suspectée, identifiez si elle se produit pour un contenu spécifique et recompressez ce contenu. Si le contenu est correctement compressé, reportez-vous à la section Diagnostic des incohérences entre les stratégies et les licences.</li></ul> |
| 3338 | UnknownConnectionType | Impossible de détecter le type de connexion. La stratégie nécessite l’activation de la protection d’Output. Ce problème est attendu uniquement si le contenu est compressé pour exiger une protection de sortie numérique ou analogique.<br>Un problème dans les versions de Flash Player antérieures à la version 11.8.800.168 entraînait parfois l’erreur 3338 sur le contenu pour lequel la stratégie indiquait que la protection du contenu était UTILISÉE SI DISPONIBLE. Ce problème a été corrigé dans les versions 11.8.800.168 et ultérieures.<ul><li>Le logiciel du distributeur sélectionne une variante du contenu qui ne nécessite pas de protection de sortie (par exemple, une variante SD d’un flux HD). Si l’erreur 3338 se produit dans le contenu onUSE_IF_AVAILABLE, recherchez le numéro de version du lecteur. Si la version du lecteur est inférieure à 11.8.800.168, conseillez à l’utilisateur de mettre à niveau le Flash Player . Si l’erreur 3338 se produit sur des versions supérieures à 11.8.800.168, enregistrez le contenu qui a provoqué l’erreur.</li><li>Le distributeur doit vérifier quel contenu est à l’origine de cette erreur et vérifier que la stratégie du contenu définit NO_PROTECTION ou USE_IF_AVAILABLE pour les sorties analogique et numérique. Si le contenu est mis en package par inadvertance avec NO_OUTPUT ou REQUIRED, recompressez le contenu. Si le contenu est correctement compressé, reportez-vous à la section Diagnostic des incohérences entre les stratégies et les licences. Sinon, réaffectez-vous à l’Adobe.</li></ul>Pour plus d’informations, voir [Obtention d’erreurs 3338 inattendues lorsque votre stratégie DRM est définie sur USE_IF_AVAILABLE](https://forums.adobe.com/message/5518688)? |
| 3339 | NoAnalogPlaybackAllowed | Impossible de lire sur un appareil analogique. Pour résoudre ce problème, connectez-vous à un appareil numérique. |
| 3340 | NoAnalogProtectionAvail | Impossible de lire le contenu, car l’appareil d’affichage externe (écran/TV) connecté n’a pas les fonctionnalités appropriées (par exemple, l’appareil ne dispose pas de Macrovision ou ACP). |
| 3341 | NoDigitalPlayAllowed | Impossible de lire le contenu sur un appareil numérique. |
| 3342 | NoDigitalProtectionAvail | Le périphérique d’affichage externe numérique connecté (écran/télévision) ne dispose pas des fonctionnalités appropriées. Par exemple, l’appareil ne dispose pas de HDCP. |
| 3343 | Erreur interne | Cette erreur est actuellement connue après la publication d’une nouvelle version de Flash. Cela se produit car le Flash a été mis à niveau pendant l’ouverture de Flash, ce qui met le Flash en mauvais état jusqu’au redémarrage du navigateur.<ul><li>Le logiciel du distributeur doit effectuer les tâches suivantes :</li><li>Il est recommandé à l’utilisateur de fermer ou de quitter tous les navigateurs, puis de rouvrir.</li><li>Vérifiez si la version du Flash est actuelle.</li></ul>Si la version n’est pas actuelle, conseillez au client de mettre à niveau, de fermer tous les onglets de son navigateur, puis de rouvrir.<ul><li>Si l’erreur semble se produire après un redémarrage réussi du navigateur, réaffectez-vous à l’Adobe. Lorsqu’une nouvelle version est publiée, nous vous recommandons de contacter l’assistance Adobe pour voir si le problème des mises à jour en arrière-plan a été corrigé.</li></ul> |
| 3344 | AbsenteAdobeCPModule | Une partie de Flash ou AIR n’a pas été installée correctement.<br>Pour résoudre ce problème, effectuez l’une des tâches suivantes :<ul><li>Pour AIR, l’utilisateur doit désinstaller et réinstaller AIR.</li><li>Par Flash Player, appelez System.update.</li></ul> |
| 3346 | Échec de la migration | Le logiciel du distributeur doit effectuer l’une des opérations suivantes :<ul><li>Si AIR, appelez `DRMManager.resetDRMVouchers()`.</li><li>Si Flash est inutilisable en raison des erreurs 3322 ou 3346, les utilisateurs doivent accéder à [https://forums.adobe.com/message/5535907#5535907](https://forums.adobe.com/message/5535907#5535907) et suivez les instructions de l’article Adobe pour réinitialiser par programmation leur magasin de licences DRM.</li><li>Si cette erreur se produit fréquemment, le distributeur doit fournir les détails sur la version du lecteur de fréquence et la version du navigateur à Adobe.</li></ul>Pour plus d’informations, consultez les articles suivants du forum :<ul><li>[Erreur DRM 3322/3346/3368 dans Chrome (problèmes liés à la barre d’informations)](https://forums.adobe.com/message/5520902)</li><li>[Erreur 3322 ou 3346 après changement matériel](https://forums.adobe.com/message/5535911)</li></ul> |
| 3347 | InsuffisanteDeviceCapabilities | La principale signification de cette erreur est que la licence présente une contrainte que le certificat DRM du client indique qu’elle ne peut pas satisfaire. Les &quot;fonctionnalités matérielles&quot; suivantes sont définies lorsque le certificat DRM du client est émis :<ul><li>**Bus non accessible aux utilisateurs.** If **true**, les médias décryptés ne traversent jamais un bus ou la mémoire principale dans laquelle une application peut y accéder. If **false**, l’application peut avoir accès au contenu après le décryptage.</li><li>**La racine matérielle de la confiance.** If **true**, tous les logiciels chargés au moment du démarrage sur l’appareil ont été validés par rapport à une clé ou un condensé disponible uniquement sur le matériel. Ces deux contraintes sont vérifiées côté client lorsque la licence est ouverte par rapport au certificat DRM du client et que l’échec est immédiat. Ces contraintes peuvent également être vérifiées côté serveur avant l’émission de la licence.</li></ul>La signification secondaire de cette erreur est que la licence a le jeu de stratégies &quot;Jailbreak Enforcement&quot; et qu’un jailbreak a été détecté sur l’appareil. Cette vérification est effectuée régulièrement du côté client et ne peut pas être vérifiée du côté serveur.<br>Les distributeurs peuvent mettre à jour les stratégies et supprimer les restrictions. Pour les stratégies de fonctionnalités d’appareil, exécutez la commande de mise à jour de stratégie avec l’indicateur - devCapabilitiesV1et sans argument. Pour jailbreak Enforcement setpolicy.enforceJailbreak=false. |
| 3348 | HardStopIntervalExpired | L’intervalle de hard stop a expiré. |
| 3349 | ServerVersionTooHigh | Le serveur s’exécute dans une version supérieure à la version la plus élevée prise en charge par le client. |
| 3350 | ServerVersionTooLow | Le serveur s’exécute dans une version inférieure à la version minimale prise en charge par le client. |
| 3351 | DomainTokenInvalid | Jeton de domaine non valide. Pour résoudre ce problème, réenregistrez-le avec le domaine. |
| 3352 | DomainTokenTooOld | Le jeton de domaine est plus ancien que le jeton requis par la licence. Pour résoudre ce problème, enregistrez-le à nouveau avec le domaine . |
| 3353 | DomainTokenTooNew | Le jeton de domaine est plus récent que le jeton requis par la licence. |
| 3354 | DomainTokenExpired | Le jeton de domaine a expiré. |
| 3355 | DomainJoinFailed | La jointure de domaine a échoué. |
| 3356 | NoCorresponseRoot | Une licence racine pour une licence feuille V3 est introuvable. |
| 3357 | NoValidEmbeddedLicense | Aucune licence incorporée valide n’a été trouvée. |
| 3358 | NoACPPprotectionAvailable | Impossible de lire, car l’appareil analogique connecté ne dispose pas de la protection ACP. |
| 3359 | NoCGSMAProprotectionAvailable | Impossible de lire, car l’appareil analogique connecté ne dispose pas de la protection CGMSA. |
| 3360 | DomainRegistrationRequired | Le contenu nécessite un enregistrement de domaine. |
| 3361 | NotRegisteredToDomain | L’ordinateur n’est pas enregistré dans le domaine pour les métadonnées spécifiées. |
| 3362 | OperationTimeoutError | L’opération asynchrone a pris plus de temps que le paramètre maxOperationTimeout configuré.<br>**Remarque :** Ce code d’erreur n’est renvoyé que par iOS DRMNative Framework. |
| 3363 | UnsupportedIOSPlaylistError | La liste de lecture M3U8 contient du contenu non pris en charge ou il manque un objet de métadonnées DRM #EXT-X-FAXS-CM obligatoire.<br>**Remarque :** Ce code d’erreur n’est renvoyé que par iOS DRMNative Framework. |
| 3364 | NoDeviceId | La structure a demandé l’identifiant de l’appareil, mais la valeur renvoyée était vide.<br>La structure a demandé l’identifiant de l’appareil, mais la valeur renvoyée était vide.<br>Dans le paramètre du navigateur Chrome, l’utilisateur ne doit pas sélectionner la variable **Autoriser les identifiants pour le contenu protégé** . |
| 3365 | IncognitoModeNotAllowed | Cette combinaison de navigateur/plate-forme n’autorise pas la lecture protégée par DRM en mode Incognito.<br>Le logiciel du distributeur doit conseiller à l&#39;utilisateur de quitter le mode Incognito ou d&#39;utiliser un autre navigateur. Pour plus d’informations, voir [Erreur DRM 3365 provoquée et résolution](https://forums.adobe.com/thread/1266622). |
| 3366 | BadParameter | L’exécution hôte appelée bibliothèque DRM Primetime avec un mauvais paramètre. |
| 3367 | BadSignature | La signature du manifeste M3U8 a échoué.<br>**Remarque :** Ce code d’erreur n’est renvoyé que par iOS DRMNative Framework ou AVE. |
| 3368 | UserSettingsNoAccess | L’utilisateur a annulé l’opération ou a saisi des paramètres qui interdisent l’accès au système.<br>Cette erreur n’est générée que dans la version 19 ou ultérieure du SWF. Pour une compatibilité ascendante, le code d’erreur 3321 est généré pour SWF version 18 ou antérieure.<br>Le logiciel du distributeur doit guider l’utilisateur vers une explication sur la manière d’autoriser l’accès au module externe non balisé. Pour plus d’informations, voir [Erreur DRM 3322/3346/3368 dans Chrome (problèmes liés à la barre d’informations)](https://forums.adobe.com/message/5520902). |
| 3369 | InterfaceNotAvailable | Une interface de navigateur requise n’est pas disponible. Ce problème se produit uniquement sur Pepper. Il peut y avoir une différence entre le module externe de Flash et la version du navigateur.<br>Le logiciel du répartiteur doit guider l’utilisateur pour s’assurer que la dernière version du navigateur est installée sur lui.<br>Si les incidences de cette erreur augmentent et correspondent à une mise à jour du navigateur en cours de publication, réaffectez-vous à l’Adobe. |
| 3370 | ContentIdSettingsNoAccess | L’utilisateur a désactivé la variable **Autoriser les identifiants pour le paramètre de contenu protégé.**<br>**Remarque :** Cette erreur s’affichait avec les versions 13.0.0.x ou ultérieures de Pepper.<br>L’équipe logicielle et/ou d’exploitation du distributeur doit guider l’utilisateur pour activer la variable **Autoriser les identifiants pour le contenu protégé** .<br>Pour plus d’informations, voir [https://forums.adobe.com/message/6518323#6518323](https://forums.adobe.com/message/6518323#6518323). |
| 3371 | NoOPConstraintInPixelConstraints | Résolution incorrecte basée sur les contraintes de protection de sortie de la licence.<br>Le logiciel du distributeur doit afficher un message d’erreur. Demandez à l’utilisateur de signaler le problème au distributeur avec un titre de contenu.<br>Le distributeur doit reconditionner le contenu avec une politique valide. |
| 3372 | ResolutionLargeThanMaxResolution | La résolution du contenu est supérieure à la résolution maximale spécifiée dans la contrainte de protection de sortie.<br>Si l’équipe d’exploitation du distributeur détecte cette erreur dans ses logs, il doit examiner la politique de protection de la sortie basée sur la résolution et, si nécessaire, reconditionner le contenu.<br>Pour plus d’informations sur la protection de sortie basée sur la résolution, voir À propos de la protection de sortie basée sur la résolution. |
| 3373 | DisplayResolutionLargeThanConsouche | La résolution du contenu est supérieure à celle spécifiée par la contrainte de protection de sortie actuellement active.<br>Si l’équipe d’exploitation du distributeur détecte cette erreur dans ses logs, il doit examiner la politique de protection de la sortie basée sur la résolution et, si nécessaire, reconditionner le contenu.<br>Pour plus d’informations sur la protection de sortie basée sur la résolution, voir À propos de la protection de sortie basée sur la résolution. |
| 3374 | ClientCommProcessFailed | Échec lors du traitement de la communication côté client, par exemple, génération de requêtes, traitement de réponse, jeton d’authentification incorrect, etc. |

## Mappage du code d’miroir pour 3328 {#suberror-code-mapping-for-3328}

| SubError | Description |
|---|---|
| 100-1000 | Réservé par le serveur de licences d’Adobe |
| 10000 - 20000 | Réservé par le serveur d’individualisation de l’Adobe |
| 20100-21000 | Réservé au serveur de clés Xbox Adobe.<br>Les erreurs de cette plage correspondent à la référence générale du message d’erreur du SDK Primetime DRM Server comme suit :<br>Erreur du serveur de clés Xbox = Erreur du serveur DRM + 0x20000<br>Par exemple, l&#39;erreur 20202 du serveur Xbox Keyserver équivaut à l&#39;erreur 202 du SDK du serveur DRM. |
| 100xxxx | Réservé aux codes de sous-erreur client |
